!function(){"use strict";var section,tiny,allowedSections,pluginName="esites_editor",each=tinymce.each,sections=["wysiwygtext","wysiwygpage_content","wysiwygblock_content","wysiwygtemplate_text","wysiwygdescription_editor","wysiwygshort_description_editor","wysiwyggroup_4description_editor"],plugin={};each(sections,function(s){if(window[s]){section=window[s];section.name=s}});if(section){each(section.config.plugins,function(el){if(el.name===pluginName){plugin.config=el.config;allowedSections=plugin.config.sections;-1!==allowedSections.indexOf("|")&&(allowedSections=allowedSections.split("|").join(","));-1!==allowedSections.indexOf(",")&&(allowedSections=allowedSections.split(","));"[object Array]"!==Object.prototype.toString.call(allowedSections)&&(allowedSections=[allowedSections])}});if(!(tinymce.inArray(allowedSections,section.name)<0)){tinymce.PluginManager.requireLangPack(pluginName);tinymce.create("tinymce.plugins.EsitesEditorPlugin",{defaults:{emmet:!1,theme:"default",codeFolding:!1,selectors:[]},settings:{},init:function(ed,url){tiny=this;tiny.editor=ed;tiny.url=url;tiny.settings=tinymce.extend(tiny.defaults,plugin.config);tiny.instances=[];tiny.editor.addCommand("mceEsitesEditor",tiny.showSourceEditor);tiny.editor.addButton(pluginName,{image:tiny.url+"/img/icon-esites-editor.png",title:pluginName+".editor_button",cmd:"mceEsitesEditor"})},showSourceEditor:function(){tiny.editor.windowManager.open({width:tiny.editor.getParam("code_dialog_width",900),height:tiny.editor.getParam("code_dialog_height",600),inline:!0,maximizable:!0,file:tiny.url+"/esites_editor.html"},{plugin_url:tiny.url})}});tinymce.PluginManager.add(pluginName,tinymce.plugins.EsitesEditorPlugin)}}}();