define(function(undef){"use strict";var util={getElem:function(id){return document.getElementById(id)},inArray:function(elem,arr,i){var len;if(arr){if(arr.indexOf)return arr.indexOf.call(arr,elem,i);len=arr.length;i=i?i<0?Math.max(0,len+i):i:0;for(;i<len;i++)if(i in arr&&arr[i]===elem)return i}return-1},isArray:function(arr){return"[object Array]"===Object.prototype.toString.call(arr)},extend:function(obj,ext){var i,l,name,value,args=arguments;for(i=1,l=args.length;i<l;i++){ext=args[i];for(name in ext)if(ext.hasOwnProperty(name)){value=ext[name];value!==undef&&(obj[name]=value)}}return obj},forEach:function(collection,callback,scope){if("[object Object]"===Object.prototype.toString.call(collection))for(var prop in collection)Object.prototype.hasOwnProperty.call(collection,prop)&&callback.call(scope,collection[prop],prop,collection);else for(var i=0,len=collection.length;i<len;i++)callback.call(scope,collection[i],i,collection)},addCSS:function(css){var head=document.getElementsByTagName("head")[0],s=document.createElement("style");s.styleSheet?s.styleSheet.cssText=css:s.appendChild(document.createTextNode(css));head.appendChild(s)},isFunction:function(obj){return"function"==typeof obj},proxy:function(fn,context){var tmp,args,proxy,slice=[].slice;if("string"==typeof context){tmp=fn[context];context=fn;fn=tmp}if(util.isFunction(fn)){args=slice.call(arguments,2);proxy=function(){return fn.apply(context||this,args.concat(slice.call(arguments)))};return proxy}}};return util});